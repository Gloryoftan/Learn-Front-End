<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <style>
        div {
            width: 100%;
        }
        .aa {
            margin-left: 0;
        }

        .bb {
            margin-left: 50px;
        }

        .cc {
            margin-left: 100px;
        }
    </style>
</head>

<body>
    <script src="test.js"></script>
    <div>
        <div class="aa tree">1</div>
        <div class="child" id="main">
            <div class="bb tree">1-1</div>
            <div>
                <div class="bb tree">1-2</div>
                <div class="child">
                    <div class="cc">1-2-1</div>
                    <div class="cc">1-2-2</div>
                    <div class="cc">1-2-2</div>
                </div>
            </div>
            <div>
                <div class="bb tree">1-3</div>
                <div class="child">
                    <div class="cc">1-3-1</div>
                    <div class="cc">1-3-2</div>
                    <div class="cc">1-3-2</div>
                </div>
            </div>

        </div>
    </div>
    <script src="../lib/jQuery-v3.4.1.js"></script>
    <script>
        $(document).ready(function () {
            $('.tree').click(function (e) {
                if ($(this).siblings().length != 1){
                    return;
                }
                let $child = $($(this).siblings()[0]);
                if(!$child.hasClass('child')){
                    return
                }
                let _on = this.getAttribute('on');
                if (_on) {
                    this.setAttribute('on', '');
                    $child.css('height',0);
                    $child.css('opacity','0')
                } else {
                    this.setAttribute('on', 'true');
                    $child.css('height','auto');
                    $child.css('opacity','1')
                }
                
            })
        })

    </script>
</body>

</html>