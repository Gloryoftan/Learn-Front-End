<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="circleNav.css">
    <title>circleNav</title>
</head>

<body>
    <div id="nav">
        <div class="main">
            全国
        </div>
        <ul class="menu">
            <li class="one">
                <a href="javascript:void(0);">
                    <span class="icon">华东</span>
                </a>
            </li>
            <li class="two">
                <a href="javascript:void(0);">
                    <span class="icon">华中</span>
                </a>
            </li>
            <li class="three">
                <a href="javascript:void(0);">
                    <span class="icon">华北</span>
                </a>
            </li>
            <li class="four">
                <a href="javascript:void(0);">
                    <span class="icon">东北</span>
                </a>
            </li>
            <li class="five">
                <a href="javascript:void(0);">
                    <span class="icon">西北</span>
                </a>
            </li>
            <li class="six">
                <a href="javascript:void(0);">
                    <span class="icon">西南</span>
                </a>
            </li>
        </ul>
        <ul class="sub-menu">
            <li class="one">
                <a href="javascript:void(0);">
                    <span class="icon">江苏</span>
                </a>
            </li>
            <li class="two">
                <a href="javascript:void(0);">
                    <span class="icon">安徽</span>
                </a>
            </li>
            <li class="three">
                <a href="javascript:void(0);">
                    <span class="icon">上海</span>
                </a>
            </li>
            <li class="four">
                <a href="javascript:void(0);">
                    <span class="icon">浙江</span>
                </a>
            </li>
            <li class="five">
                <a href="javascript:void(0);">
                    <span class="icon">福建</span>
                </a>
            </li>
        </ul>
        <ul class="sub-menu">
            <li class="one">
                <a href="javascript:void(0);">
                    <span class="icon">河南</span>
                </a>
            </li>
            <li class="two">
                <a href="javascript:void(0);">
                    <span class="icon">湖北</span>
                </a>
            </li>
            <li class="three">
                <a href="javascript:void(0);">
                    <span class="icon">湖南</span>
                </a>
            </li>
            <li class="four">
                <a href="javascript:void(0);">
                    <span class="icon">四川</span>
                </a>
            </li>
            <li class="five">
                <a href="javascript:void(0);">
                    <span class="icon">重庆</span>
                </a>
            </li>
            <li class="six">
                <a href="javascript:void(0);">
                    <span class="icon">江西</span>
                </a>
            </li>
        </ul>
        <ul class="sub-menu">
            <li class="one">
                <a href="javascript:void(0);">
                    <span class="icon">北京</span>
                </a>
            </li>
            <li class="two">
                <a href="javascript:void(0);">
                    <span class="icon">天津</span>
                </a>
            </li>
            <li class="three">
                <a href="javascript:void(0);">
                    <span class="icon">河北</span>
                </a>
            </li>
            <li class="four">
                <a href="javascript:void(0);">
                    <span class="icon">山西</span>
                </a>
            </li>
            <li class="five">
                <a href="javascript:void(0);">
                    <span class="icon">山东</span>
                </a>
            </li>
        </ul>

        <ul class="sub-menu">
            <li class="one">
                <a href="javascript:void(0);">
                    <span class="icon">东北1</span>
                </a>
            </li>
            <li class="two">
                <a href="javascript:void(0);">
                    <span class="icon">东北2</span>
                </a>
            </li>
            <li class="three">
                <a href="javascript:void(0);">
                    <span class="icon">东北3</span>
                </a>
            </li>
            <li class="four">
                <a href="javascript:void(0);">
                    <span class="icon">东北4</span>
                </a>
            </li>
            <li class="five">
                <a href="javascript:void(0);">
                    <span class="icon">东北5</span>
                </a>
            </li>
        </ul>
        <ul class="sub-menu">
            <li class="one">
                <a href="javascript:void(0);">
                    <span class="icon">西北1</span>
                </a>
            </li>
            <li class="two">
                <a href="javascript:void(0);">
                    <span class="icon">西北2</span>
                </a>
            </li>
            <li class="three">
                <a href="javascript:void(0);">
                    <span class="icon">西北3</span>
                </a>
            </li>
            <li class="four">
                <a href="javascript:void(0);">
                    <span class="icon">西北4</span>
                </a>
            </li>
            <li class="five">
                <a href="javascript:void(0);">
                    <span class="icon">西北5</span>
                </a>
            </li>
        </ul>
        <ul class="sub-menu">
            <li class="one">
                <a href="javascript:void(0);">
                    <span class="icon">西南1</span>
                </a>
            </li>
            <li class="two">
                <a href="javascript:void(0);">
                    <span class="icon">西南2</span>
                </a>
            </li>
            <li class="three">
                <a href="javascript:void(0);">
                    <span class="icon">西南3</span>
                </a>
            </li>
            <li class="four">
                <a href="javascript:void(0);">
                    <span class="icon">西南4</span>
                </a>
            </li>
            <li class="five">
                <a href="javascript:void(0);">
                    <span class="icon">西南5</span>
                </a>
            </li>
        </ul>

    </div>

    <svg height="0" width="0">
        <defs>
            <clipPath clipPathUnits="objectBoundingBox" id="sector">
                <path fill="none" stroke="#000" stroke-width="5" class="sector"
                    d="M0.5,0.5 l0.5,0 A0.5,0.5 0 0,0 0.75,.066987298 z"></path>
            </clipPath>
        </defs>
    </svg>
    <svg height="0" width="0">
        <defs>
            <clipPath clipPathUnits="objectBoundingBox" id="sub-sector">
                <path fill="none" stroke="#111" stroke-width="1" class="sub-sector"
                    d="M0.5,0.5 l0.5,0 A0.5,0.5 0 0,0 0.9330127018922194,0.25 z"></path>
            </clipPath>
        </defs>
    </svg>

    <script type='text/javascript' src="../../lib/jquery-1.11.3.min.js"></script>
    <script>
        let aMenu = document.querySelectorAll("#nav .menu li");
        let oMain = document.querySelector("#nav .main");
        let aSubMenu = document.querySelectorAll("#nav .sub-menu");
        let aSubMenuLi = document.querySelectorAll("#nav .sub-menu li");

        let countsArray = [
            0, 5, 11, 16, 21, 26, 31
        ]

        for (let i = 0; i < aMenu.length; i++) {

            aMenu[i].onclick = function () {
                $("#nav .menu").css({
                    "transform": "rotate(" + i - 6 * 60 + "deg)",
                    "transition": "transform 1s",
                });
                $(aMenu).removeClass("on");
                $(aMenu[i]).toggleClass("on");
                $(aSubMenu[i]).css("visibility", "visible");
                if ($(aSubMenu[i]).hasClass("fade")) {
                    $(aSubMenu[i]).removeClass("fade");
                }

                if ($(aSubMenu).hasClass("show")) {
                    $("#nav .sub-menu.show").addClass("fade");
                    for (let j = 0; j < aSubMenuLi.length; j++) {
                        $(aSubMenuLi[j]).css({
                            "transform": "rotate(0deg)",
                            "transition": "transform 1s",
                        })
                    }
                    $("#nav .sub-menu.show").removeClass("show");
                }

                for (let j = countsArray[i]; j < countsArray[i + 1]; j++) {
                    console.log(j);
                    $(aSubMenuLi[j]).css({
                        "transform": "rotate(" + ((j - countsArray[i]) * 30 - 90) + "deg)",
                        "transition": "transform 1s",
                    })
                }
                $(aSubMenu[i]).addClass("show");
            }
        }
        oMain.onclick = function () {
            $(aMenu).removeClass("on");
            $("#nav .sub-menu.show").addClass("fade");
            for (let j = 0; j < aSubMenuLi.length; j++) {
                $(aSubMenuLi[j]).css({
                    "transform": "rotate(0deg)",
                    "transition": "transform 1s",
                })
            }
            $("#nav .sub-menu.show").removeClass("show");
        }
    </script>
</body>

</html>