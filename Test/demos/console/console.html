<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitor Demo</title>
</head>

<body>
    <script>
        var debugMode = true;
        (function (global) {
            function Monitor() {}
            Monitor = {
                orilog: function (para) {
                    if (!debugMode) return;
                    console.log(para)
                },
                origroup: function (title, ...args) {
                    console.group(title);
                    args.forEach(item => {
                        console.log(item);
                    })
                    console.groupEnd();
                },
                debugger: function () {
                    if (!debugMode) return;
                    debugger;
                },
                group: function (title, obj) {
                    if (!debugMode) return;
                    console.group(title);
                    Object.keys(obj).map((key, index) => {
                        let _key = key,
                            _value = obj[key],
                            _type = this._getType(_value);
                        // console.log('%c参数' + index + ' ' + key,
                        //     'color: white; background-color: ' + this
                        //     ._randomColor(), obj[key], typeof (obj[key]))
                        console.log('%c 参数 ' + '%c ' + _key + ' ' + '%c 类型 ' + '%c ' + _type + ' ',
                            'color: white;  background-color: ' + this._getColorByType(_type),
                            'color:' + this._getColorByType(_type),
                            'color: white; background-color: ' + this._getColorByType(_type),
                            'color:' + this._getColorByType(_type),
                            _value);
                    })
                    console.groupEnd();
                },
                log: function (obj) {
                    if (!debugMode) return;
                    let _key = Object.keys(obj)[0],
                        _value = Object.values(obj)[0],
                        _type = this._getType(_value);
                    console.log('%c 参数 ' + '%c ' + _key + ' ' + '%c 类型 ' + '%c ' + _type + ' ',
                        'color: white;  background-color: ' + this._getColorByType(_type),
                        'color:' + this._getColorByType(_type),
                        'color: white; background-color: ' + this._getColorByType(_type),
                        'color:' + this._getColorByType(_type),
                        _value);
                },
                threeDText: function (text) {
                    console.log("%c" + text,
                        " text-shadow: 0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9,0 5px 0 #aaa,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15);font-size:2em"
                    );
                },
                RainbowText: function (textLength) {
                    console.log('%c' + textLength,
                        'background-image:-webkit-gradient( linear, left top, right top, color-stop(0, #f22), color-stop(0.15, #f2f), color-stop(0.3, #22f), color-stop(0.45, #2ff), color-stop(0.6, #2f2),color-stop(0.75, #2f2), color-stop(0.9, #ff2), color-stop(1, #f22) );color:transparent;-webkit-background-clip: text;font-size:1em;'
                    );
                },
                _randomColor: function () {
                    const colorMap = {
                        1: '#D33F49',
                        2: '#95B46A',
                        3: '#2274A5',
                        4: '#d37f3f',
                        5: '#e0c74d',
                        6: '#3fd3c9',
                        7: '#c93fd3'
                    }
                    const randomIntegerInRange = (min, max) => Math.floor(Math.random() * (max - min + 1)) +
                        min;
                    let num = randomIntegerInRange(1, 7);
                    return colorMap[num];
                },
                _getColorByType: function (_type) {
                    const tyepMap = {
                        String: '#95B46A',
                        Number: '#2274A5',
                        Boolean: '#D33F49',
                        Date: '#d37f3f',
                        Array: '#3fd3c9',
                        Object: '#3fd3c9',
                        BigInt: '#2274A5',
                        Symbol: '#95B46A',
                        Function: '#c93fd3',
                        Map: '#c93fd3',
                        Undefined: '#D33F49',
                        Null: '#D33F49',
                    }
                    let _res = tyepMap[_type] ? tyepMap[_type] : '#000';
                    return _res;
                },
                _getType: function (v) {
                    v = v === undefined ? 'Undefined' : v === null ? 'Null' : v.constructor.name
                    return v;
                }
            }
            global.M = global.Monitor = Monitor;
        })(window)

        const paraStr = "para1",
            paraNum = 1,
            paraBoolean = true,
            paraDate = new Date(),
            paraArray = [1, 2, 3, 4, 5],
            paraObject = {
                key1: 'value1',
                key2: 'value2',
                key3: 'value3',
            },
            paraUndefined = undefined,
            paraNull = null,
            paraBigInt = 2n ** 53n,
            paraSymbol = Symbol(),
            paraFunction = function () {},
            paraJson = JSON.parse('{"result":true, "count":42}'),
            paraMap = new Map();

        const getType = v => (v === undefined ? 'Undefined' : v === null ? 'Null' : v.constructor.name);


        ! function () {
            M.log({
                paraStr
            })

            M.log({
                paraNum
            })

            M.group('Group测试', {
                paraStr
            });

            M.group('Group测试2', {
                paraStr,
                paraNum,
                paraBoolean,
                paraDate,
                paraArray,
                paraObject,
                paraUndefined,
                paraNull,
                paraBigInt,
                paraSymbol,
                paraFunction,
                paraJson,
                paraMap,
            })

            M.orilog('It\'s original console.log 原始的console.logs');
            M.origroup('原始的console.group', paraStr, paraNum, paraBoolean, paraUndefined, paraNull, paraDate,
                paraArray)

            M.threeDText('3D文本测试');

            M.RainbowText('RainbowTextRainbowTextRainbowTextRainbowTextRainbowTextRainbowTextRainbowText')
        }()


        ! function () {
            console.log(getType(paraStr))
            console.log(getType(paraNum))
            console.log(getType(paraBoolean))
            console.log(getType(paraDate))
            console.log(getType(paraArray))
            console.log(getType(paraObject))
            console.log(getType(paraUndefined))
            console.log(getType(paraNull))
            console.log(getType(paraBigInt))
            console.log(getType(paraSymbol))
            console.log(getType(paraFunction))
            console.log(getType(paraJson))
            console.log(getType(paraMap))
        }
    </script>
</body>

</html>